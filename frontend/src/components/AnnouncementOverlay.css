/**
 * AnnouncementOverlay 样式 - 星空风格
 */
.announcement-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: #000; /* 纯黑背景 */
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2000;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.5s ease-in-out;
}

.announcement-overlay.visible {
    opacity: 1;
    pointer-events: all;
}

.announcement-content {
    text-align: center;
    transform: scale(0.9);
    transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
    z-index: 10;
}

.announcement-overlay.visible .announcement-content {
    transform: scale(1);
}

/* 月亮图标 */
.moon-icon {
    width: 64px;
    height: 64px;
    color: #94a3b8; /* 灰蓝色 */
    margin-bottom: 8px;
    animation: float 3s ease-in-out infinite;
}

.moon-icon svg {
    width: 100%;
    height: 100%;
    filter: drop-shadow(0 0 10px rgba(148, 163, 184, 0.5));
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

.announcement-overlay.with-action {
    background: rgba(0, 0, 0, 1); /* 操作时背景不透明 */
}

.announcement-overlay.with-action .announcement-content {
    justify-content: flex-start;
    padding-top: 10vh; /* 上移内容，给操作面板腾出空间 */
    transform: scale(0.9) !important; /* 整体稍微缩小 */
}

.overlay-action-container {
    margin-top: 40px;
    width: 100%;
    max-width: 600px;
    display: flex;
    justify-content: center;
}

/* 在遮罩层中隐藏操作面板的卡片背景，使其融入星空 */
.overlay-action-container .action-panel {
    background: transparent;
    border: none;
    box-shadow: none;
    width: 100%;
}

.overlay-action-container .action-panel h3 {
    display: none; /* 隐藏原来的标题，因为上面已经有 announcement-text 了 */
}

.overlay-action-container .action-header {
    display: none;
}

.announcement-text {
    font-size: 2.5rem;
    font-weight: 700;
    color: #fff;
    letter-spacing: 4px;
    margin: 0;
    text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
}

.phase-subtitle {
    font-size: 0.8rem;
    color: #64748b;
    letter-spacing: 2px;
    font-family: monospace;
    text-transform: uppercase;
}

/* 星空背景动画 */
.stars-bg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

.star {
    position: absolute;
    background: white;
    border-radius: 50%;
    animation: twinkle 2s infinite ease-in-out;
}
.star-1 { top: 20%; left: 20%; width: 2px; height: 2px; animation-delay: 0s; }
.star-2 { top: 30%; left: 80%; width: 3px; height: 3px; animation-delay: 0.5s; }
.star-3 { top: 70%; left: 30%; width: 2px; height: 2px; animation-delay: 1s; }
.star-4 { top: 80%; left: 70%; width: 2px; height: 2px; animation-delay: 1.5s; }

.star-5 { top: 50%; left: 50%; width: 3px; height: 3px; animation-delay: 0.8s; }

@keyframes twinkle {
    0%, 100% { opacity: 0.2; transform: scale(0.8); }
    50% { opacity: 1; transform: scale(1.2); }
}